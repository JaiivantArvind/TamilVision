"""
validate_folders.py
Validates that a directory contains exactly the expected set of Tamil character folders.
Prints missing expected folders and extra unexpected folders.
"""

from pathlib import Path

# ‚îÄ‚îÄ Configuration ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

TARGET_DIR = Path(r"D:\VIT\SEM-6\Projects\SC\T-2\data\raw\uTHCD_b(80-20-split)\80-20-split\train-test-classwise\train")

EXPECTED_FOLDERS = [
    # Vowels (‡Æâ‡ÆØ‡Æø‡Æ∞‡Øç ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Øç‡Æï‡Æ≥‡Øç)
    "‡ÆÖ", "‡ÆÜ", "‡Æá", "‡Æà", "‡Æâ", "‡Æä",
    "‡Æé", "‡Æè", "‡Æê", "‡Æí", "‡Æì", "‡Æî",
    # Aytham
    "‡ÆÉ",
    # ‡Æï ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æï", "‡Æï‡Æø", "‡Æï‡ØÄ", "‡Æï‡ØÅ", "‡Æï‡ØÇ", "‡Æï‡Øç",
    # ‡Æï‡Øç‡Æ∑ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æï‡Øç‡Æ∑", "‡Æï‡Øç‡Æ∑‡Æø", "‡Æï‡Øç‡Æ∑‡ØÄ", "‡Æï‡Øç‡Æ∑‡ØÅ", "‡Æï‡Øç‡Æ∑‡ØÇ", "‡Æï‡Øç‡Æ∑‡Øç",
    # ‡Æô ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æô", "‡Æô‡Æø", "‡Æô‡ØÄ", "‡Æô‡ØÅ", "‡Æô‡ØÇ", "‡Æô‡Øç",
    # ‡Æö ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æö", "‡Æö‡Æø", "‡Æö‡ØÄ", "‡Æö‡ØÅ", "‡Æö‡ØÇ", "‡Æö‡Øç",
    # ‡Æû ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æû", "‡Æû‡Æø", "‡Æû‡ØÄ", "‡Æû‡ØÅ", "‡Æû‡ØÇ", "‡Æû‡Øç",
    # ‡Æü ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æü", "‡Æü‡Æø", "‡Æü‡ØÄ", "‡Æü‡ØÅ", "‡Æü‡ØÇ", "‡Æü‡Øç",
    # ‡Æ£ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ£", "‡Æ£‡Æø", "‡Æ£‡ØÄ", "‡Æ£‡ØÅ", "‡Æ£‡ØÇ", "‡Æ£‡Øç",
    # ‡Æ§ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ§", "‡Æ§‡Æø", "‡Æ§‡ØÄ", "‡Æ§‡ØÅ", "‡Æ§‡ØÇ", "‡Æ§‡Øç",
    # ‡Æ® ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ®", "‡Æ®‡Æø", "‡Æ®‡ØÄ", "‡Æ®‡ØÅ", "‡Æ®‡ØÇ", "‡Æ®‡Øç",
    # ‡Æ™ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ™", "‡Æ™‡Æø", "‡Æ™‡ØÄ", "‡Æ™‡ØÅ", "‡Æ™‡ØÇ", "‡Æ™‡Øç",
    # ‡ÆÆ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡ÆÆ", "‡ÆÆ‡Æø", "‡ÆÆ‡ØÄ", "‡ÆÆ‡ØÅ", "‡ÆÆ‡ØÇ", "‡ÆÆ‡Øç",
    # ‡ÆØ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡ÆØ", "‡ÆØ‡Æø", "‡ÆØ‡ØÄ", "‡ÆØ‡ØÅ", "‡ÆØ‡ØÇ", "‡ÆØ‡Øç",
    # ‡Æ∞ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ∞", "‡Æ∞‡Æø", "‡Æ∞‡ØÄ", "‡Æ∞‡ØÅ", "‡Æ∞‡ØÇ", "‡Æ∞‡Øç",
    # ‡Æ≤ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ≤", "‡Æ≤‡Æø", "‡Æ≤‡ØÄ", "‡Æ≤‡ØÅ", "‡Æ≤‡ØÇ", "‡Æ≤‡Øç",
    # ‡Æµ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æµ", "‡Æµ‡Æø", "‡Æµ‡ØÄ", "‡Æµ‡ØÅ", "‡Æµ‡ØÇ", "‡Æµ‡Øç",
    # ‡Æ¥ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ¥", "‡Æ¥‡Æø", "‡Æ¥‡ØÄ", "‡Æ¥‡ØÅ", "‡Æ¥‡ØÇ", "‡Æ¥‡Øç",
    # ‡Æ≥ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ≥", "‡Æ≥‡Æø", "‡Æ≥‡ØÄ", "‡Æ≥‡ØÅ", "‡Æ≥‡ØÇ", "‡Æ≥‡Øç",
    # ‡Æ± ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ±", "‡Æ±‡Æø", "‡Æ±‡ØÄ", "‡Æ±‡ØÅ", "‡Æ±‡ØÇ", "‡Æ±‡Øç",
    # ‡Æ© ‡Æµ‡Æ∞‡Æø‡Æö‡Øà
    "‡Æ©", "‡Æ©‡Æø", "‡Æ©‡ØÄ", "‡Æ©‡ØÅ", "‡Æ©‡ØÇ", "‡Æ©‡Øç",
    # ‡Æú ‡Æµ‡Æ∞‡Æø‡Æö‡Øà (Grantha)
    "‡Æú", "‡Æú‡Æø", "‡Æú‡ØÄ", "‡Æú‡ØÅ", "‡Æú‡ØÇ", "‡Æú‡Øç",
    # ‡Æ∑ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà (Grantha)
    "‡Æ∑", "‡Æ∑‡Æø", "‡Æ∑‡ØÄ", "‡Æ∑‡ØÅ", "‡Æ∑‡ØÇ", "‡Æ∑‡Øç",
    # ‡Æ∏ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà (Grantha)
    "‡Æ∏", "‡Æ∏‡Æø", "‡Æ∏‡ØÄ", "‡Æ∏‡ØÅ", "‡Æ∏‡ØÇ", "‡Æ∏‡Øç",
    # ‡Æπ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà (Grantha)
    "‡Æπ", "‡Æπ‡Æø", "‡Æπ‡ØÄ", "‡Æπ‡ØÅ", "‡Æπ‡ØÇ", "‡Æπ‡Øç",
    # Vowel markers (‡ÆÆ‡Ææ‡Æ§‡Øç‡Æ§‡Æø‡Æ∞‡Øà‡Æï‡Æ≥‡Øç) stored as standalone folders
    "‡Ææ", "‡ØÜ", "‡Øá", "‡Øà",
]

# ‚îÄ‚îÄ Validation ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

def validate_folders(target: Path, expected: list[str]) -> None:
    if not target.exists():
        print(f"[ERROR] Directory does not exist: {target}")
        return
    if not target.is_dir():
        print(f"[ERROR] Path is not a directory: {target}")
        return

    actual = {p.name for p in target.iterdir() if p.is_dir()}
    expected_set = set(expected)

    missing = sorted(expected_set - actual)
    extra   = sorted(actual - expected_set)

    print(f"Target   : {target}")
    print(f"Expected : {len(expected_set)} folders")
    print(f"Actual   : {len(actual)} folders")
    print("-" * 50)

    if missing:
        print(f"\n‚ùå  MISSING folders ({len(missing)}) ‚Äî expected but not found:")
        for name in missing:
            print(f"    ‚Ä¢ {name}")
    else:
        print("\n‚úÖ  No missing folders.")

    if extra:
        print(f"\n‚ö†Ô∏è   EXTRA folders ({len(extra)}) ‚Äî found but not expected:")
        for name in extra:
            print(f"    ‚Ä¢ {name}")
    else:
        print("\n‚úÖ  No extra folders.")

    if not missing and not extra:
        print("\nüéâ  Directory matches the expected folder list exactly.")


if __name__ == "__main__":
    validate_folders(TARGET_DIR, EXPECTED_FOLDERS)
